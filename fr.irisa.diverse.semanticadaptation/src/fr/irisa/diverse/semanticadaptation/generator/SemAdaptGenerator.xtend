/*
 * generated by Xtext 2.25.0
 */
package fr.irisa.diverse.semanticadaptation.generator

import org.eclipse.emf.ecore.resource.Resource
import org.eclipse.xtext.generator.AbstractGenerator
import org.eclipse.xtext.generator.IFileSystemAccess2
import org.eclipse.xtext.generator.IGeneratorContext

/**
 * Generates code from your model files on save.
 * 
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#code-generation
 */
class SemAdaptGenerator extends AbstractGenerator {

	override void doGenerate(Resource resource, IFileSystemAccess2 fsa, IGeneratorContext context) {
//		val metamodel = resource.allContents.filter(Model).head as Model
//		semanticdomain = metamodel.semanticdomain
//		modelName = NamingUtils.nameOf(metamodel)
//		
//		val rules = resource.allContents.filter(Rule).toList
//		conceptRules = rules.groupBy[conclusion.from.concept]
//			
//		//SemanticInterfaceGenerator.compileInterfaces(conceptRules, fsa)
//		val interface = compileInterface(rules)
//		fsa.generateFile(NamingUtils.interfacePathFor(modelName, modelName), interface)
//			
//		groupRulesByConcept(conceptRules)
//		createSymbolTableForRules()
//		
//		
//		val concepts = allRulesForConcept.keySet
//		for (concept : concepts) {
//			val conceptName = concept.name
//			val operation = compileOperationFor(concept)
//			fsa.generateFile(NamingUtils.operationPathFor(modelName, conceptName), operation)
//		}
	}
}
